{"ast":null,"code":"import _toConsumableArray from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/YIN/Documents/workspace/gardianapi/src/App.js\";\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport './App.css';\nimport { withStyles } from '@material-ui/core/styles';\nimport groupBySection from \"./functions/GroupBySection\";\nimport guardianApi from \"./functions/GuardianApi\";\nimport SearchField from \"./components/SearchField\";\nimport NoResults from \"./components/NoResults\";\nimport ResultList from \"./components/ResultList\";\nimport PinnedList from \"./components/PinnedList\";\nimport LatestNewsList from \"./components/LatestNewsList\";\nimport LoadingPage from \"./components/LoadingPage\";\nimport ErrorPage from \"./components/ErrorPage\";\nimport Footer from \"./components/Footer\";\n\nvar styles = function styles() {\n  return {\n    title: {\n      padding: '15px 0 0 85px',\n      fontSize: '2rem',\n      fontWeight: 700,\n      width: '100px',\n      color: '#FFFFFF',\n      backgroundColor: '#0f1010'\n    }\n  };\n};\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.handleUserTypes = function (userTypes) {\n      _this.setState({\n        userTypes: userTypes\n      });\n    };\n\n    _this.handlePinnedList = function (pinnedList) {\n      _this.setState({\n        pinnedList: pinnedList\n      });\n    };\n\n    _this.getLatestNews = function () {\n      _this.setState(function () {\n        guardianApi(\"\", 0).then(function (_ref) {\n          var response = _ref.data.response;\n          var results = groupBySection(response.results).slice(0, 5);\n\n          _this.setState({\n            latestNews: _toConsumableArray(results),\n            error: \"\"\n          });\n        }).catch(function (error) {\n          console.log(error);\n\n          _this.setState({\n            error: error.message\n          });\n        });\n      });\n    };\n\n    _this.getResultList = function (input, page) {\n      _this.setState({\n        loading: true\n      }, function () {\n        guardianApi(input, page).then(function (_ref2) {\n          var response = _ref2.data.response;\n          var results = groupBySection(response.results);\n\n          _this.setState({\n            results: _toConsumableArray(results),\n            currentPage: response.currentPage,\n            allPages: response.pages,\n            total: response.total,\n            loading: false,\n            error: \"\"\n          });\n        }).catch(function (error) {\n          console.log(error);\n\n          _this.setState({\n            error: error.message\n          });\n        });\n      });\n    };\n\n    _this.handlePage = function (currentPage) {\n      if (currentPage >= 1) {\n        _this.getResultList(_this.state.userTypes, currentPage);\n      }\n    };\n\n    _this.handleSearch = function () {\n      _this.getResultList(_this.state.userTypes, 1);\n    };\n\n    _this.componentDidMount = function () {\n      _this.getResultList(_this.state.userTypes, _this.state.currentPage);\n\n      _this.getLatestNews();\n    };\n\n    _this.state = {\n      loading: true,\n      error: \"\",\n      userTypes: \"\",\n      results: [],\n      latestNews: [],\n      pinnedList: [],\n      currentPage: 0,\n      allPages: 0,\n      total: 0\n    };\n    _this.componentDidMount = _this.componentDidMount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUserTypes = _this.handleUserTypes.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePage = _this.handlePage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePinnedList = _this.handlePinnedList.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getResultList = _this.getResultList.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getLatestNews = _this.getLatestNews.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          userTypes = _this$state.userTypes,\n          results = _this$state.results,\n          latestNews = _this$state.latestNews,\n          currentPage = _this$state.currentPage,\n          allPages = _this$state.allPages,\n          total = _this$state.total,\n          pinnedList = _this$state.pinnedList,\n          loading = _this$state.loading,\n          error = _this$state.error;\n      var element = null;\n      var latestNewsList = null;\n\n      if (loading && error.length === 0) {\n        element = /*#__PURE__*/React.createElement(LoadingPage, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }\n        });\n      } else if (error.length !== 0) {\n        element = /*#__PURE__*/React.createElement(ErrorPage, {\n          error: error,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }\n        });\n      } else if (results.length === 0) {\n        element = /*#__PURE__*/React.createElement(NoResults, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }\n        });\n      } else {\n        element = /*#__PURE__*/React.createElement(ResultList, {\n          results: results,\n          pinnedList: pinnedList,\n          currentPage: currentPage,\n          allPages: allPages,\n          total: total,\n          handlePage: this.handlePage,\n          handlePinnedList: this.handlePinnedList,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }\n        });\n        latestNewsList = /*#__PURE__*/React.createElement(LatestNewsList, {\n          latestNews: latestNews,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 22\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 7\n        }\n      }, \"Gnews\"), /*#__PURE__*/React.createElement(SearchField, {\n        userTypes: userTypes,\n        handleSearch: this.handleSearch,\n        handleUserTypes: this.handleUserTypes,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Total\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }\n      }, \"About \", total, \" results \"), element, /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }, latestNewsList, /*#__PURE__*/React.createElement(PinnedList, {\n        results: results,\n        pinnedList: pinnedList,\n        handlePinnedList: this.handlePinnedList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 9\n        }\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["/Users/YIN/Documents/workspace/gardianapi/src/App.js"],"names":["React","Component","Typography","withStyles","groupBySection","guardianApi","SearchField","NoResults","ResultList","PinnedList","LatestNewsList","LoadingPage","ErrorPage","Footer","styles","title","padding","fontSize","fontWeight","width","color","backgroundColor","App","props","handleUserTypes","userTypes","setState","handlePinnedList","pinnedList","getLatestNews","then","response","data","results","slice","latestNews","error","catch","console","log","message","getResultList","input","page","loading","currentPage","allPages","pages","total","handlePage","state","handleSearch","componentDidMount","bind","classes","element","latestNewsList","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport './App.css';\nimport { withStyles } from '@material-ui/core/styles';\nimport groupBySection from \"./functions/GroupBySection\";\nimport guardianApi from \"./functions/GuardianApi\";\nimport SearchField from \"./components/SearchField\";\nimport NoResults from \"./components/NoResults\";\nimport ResultList from \"./components/ResultList\";\nimport PinnedList from \"./components/PinnedList\";\nimport LatestNewsList from \"./components/LatestNewsList\";\nimport LoadingPage from \"./components/LoadingPage\";\nimport ErrorPage from \"./components/ErrorPage\";\nimport Footer from \"./components/Footer\";\n\nconst styles = () => ({\n  title: {\n    padding: '15px 0 0 85px',\n    fontSize: '2rem',\n    fontWeight: 700,\n    width: '100px',\n    color: '#FFFFFF',\n    backgroundColor: '#0f1010',\n  }\n});\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      error: \"\",\n      userTypes: \"\",\n      results: [],\n      latestNews: [],\n      pinnedList: [],\n      currentPage: 0,\n      allPages: 0,\n      total: 0,\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleUserTypes = this.handleUserTypes.bind(this);\n    this.handlePage = this.handlePage.bind(this);\n    this.handlePinnedList = this.handlePinnedList.bind(this);\n    this.getResultList = this.getResultList.bind(this);\n    this.getLatestNews = this.getLatestNews.bind(this);\n  }\n\n  handleUserTypes = (userTypes) => {\n    this.setState({ userTypes: userTypes });\n  };\n\n  handlePinnedList = (pinnedList) => {\n    this.setState({ pinnedList: pinnedList });\n  };\n\n  getLatestNews = () => {\n    this.setState(() => {\n      guardianApi(\"\",0)\n      .then(({ data: { response } }) => {\n        let results = groupBySection(response.results).slice(0,5);\n        this.setState({\n          latestNews: [...results],\n          error: \"\",\n        });\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({ error: error.message });\n      });\n  });\n  }\n\n  getResultList = (input, page) => {\n    this.setState({loading: true,}, ()=> {\n      guardianApi(input, page)\n      .then(({ data: { response } }) => {\n        let results = groupBySection(response.results);\n        this.setState({\n          results: [...results],\n          currentPage: response.currentPage,\n          allPages: response.pages,\n          total: response.total,\n          loading: false,\n          error: \"\",\n        });\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({ error: error.message });\n      });\n  });\n  }\n\n  handlePage = (currentPage) => {\n    if (currentPage >= 1) {\n      this.getResultList(this.state.userTypes, currentPage);\n    }\n  };\n\n  handleSearch = () => {\n    this.getResultList(this.state.userTypes, 1);\n  };\n\n  componentDidMount = () => {\n    this.getResultList(this.state.userTypes, this.state.currentPage);\n    this.getLatestNews();\n  };\n\n  render() {\n    const { classes } = this.props;\n    const {\n      userTypes,\n      results,\n      latestNews,\n      currentPage,\n      allPages,\n      total,\n      pinnedList,\n      loading,\n      error,\n    } = this.state;\n    let element = null;\n    let latestNewsList = null;\n    if(loading && error.length === 0){\n      element = <LoadingPage />;\n    }\n    else if(error.length !== 0){\n      element = <ErrorPage error={error} />;\n    }\n    else if(results.length === 0){\n      element = <NoResults />;\n    }\n    else{\n      element = <ResultList\n      results={results}\n      pinnedList={pinnedList}\n      currentPage={currentPage}\n      allPages={allPages}\n      total={total} \n      handlePage={this.handlePage}\n      handlePinnedList={this.handlePinnedList}\n    />;\n    latestNewsList = <LatestNewsList\n    latestNews={latestNews}\n    />\n    }\n    return (\n      <div>\n      <div className=\"Header\">\n      <Typography\n            className={classes.title}>\n            Gnews\n          </Typography> \n          <SearchField\n            userTypes={userTypes}\n            handleSearch={this.handleSearch}\n            handleUserTypes={this.handleUserTypes}\n          />\n        </div>\n      <div className=\"App\">\n      <div>\n        </div>\n        <div className=\"Container\">\n          <div className=\"Total\">About {total} results </div>\n          {element}\n          <Footer />\n        </div>\n        <div>\n       {latestNewsList}\n        <PinnedList\n        results={results}\n        pinnedList={pinnedList}\n        handlePinnedList={this.handlePinnedList}\n      /> \n        </div>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(App);"]},"metadata":{},"sourceType":"module"}