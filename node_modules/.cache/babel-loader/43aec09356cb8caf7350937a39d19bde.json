{"ast":null,"code":"import _toConsumableArray from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/YIN/Documents/workspace/gardianapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/YIN/Documents/workspace/gardianapi/src/App.js\";\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport './App.css';\nimport { withStyles } from '@material-ui/core/styles';\nimport groupBySection from \"./functions/GroupBySection\";\nimport guardianApi from \"./functions/GuardianApi\";\nimport SearchField from \"./components/SearchField\";\nimport NoResults from \"./components/NoResults\";\nimport ResultList from \"./components/ResultList\";\nimport LoadingPage from \"./components/LoadingPage\";\nimport ErrorPage from \"./components/ErrorPage\";\nimport Footer from \"./components/Footer\";\n\nvar styles = function styles() {\n  return {\n    title: {\n      fontSize: '2rem',\n      fontWeight: 700,\n      width: '160px',\n      color: '#FFFFFF',\n      backgroundColor: '#0d7cad'\n    }\n  };\n};\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.handleUserTypes = function (userTypes) {\n      _this.setState({\n        userTypes: userTypes\n      });\n    };\n\n    _this.handlePinnedList = function (pinnedList) {\n      _this.setState({\n        pinnedList: pinnedList\n      });\n    };\n\n    _this.getResultList = function (input, page) {\n      _this.setState({\n        loading: true\n      }, function () {\n        guardianApi(input, page).then(function (_ref) {\n          var response = _ref.data.response;\n          var results = groupBySection(response.results);\n\n          _this.setState({\n            results: _toConsumableArray(results),\n            currentPage: response.currentPage,\n            allPages: response.pages,\n            total: response.total,\n            loading: false,\n            error: \"\"\n          });\n        }).catch(function (error) {\n          console.log(error);\n\n          _this.setState({\n            error: error.message\n          });\n        });\n      });\n    };\n\n    _this.handlePage = function (currentPage) {\n      if (currentPage >= 1) {\n        _this.getResultList(_this.state.userTypes, currentPage);\n      }\n    };\n\n    _this.handleSearch = function () {\n      _this.getResultList(_this.state.userTypes, 1);\n    };\n\n    _this.componentDidMount = function () {\n      _this.getResultList(_this.state.userTypes, _this.state.currentPage);\n    };\n\n    _this.state = {\n      loading: true,\n      error: \"\",\n      userTypes: \"\",\n      results: [],\n      pinnedList: [],\n      currentPage: 0,\n      allPages: 0,\n      total: 0\n    };\n    _this.componentDidMount = _this.componentDidMount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUserTypes = _this.handleUserTypes.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePage = _this.handlePage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePinnedList = _this.handlePinnedList.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getResultList = _this.getResultList.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          userTypes = _this$state.userTypes,\n          results = _this$state.results,\n          currentPage = _this$state.currentPage,\n          allPages = _this$state.allPages,\n          total = _this$state.total,\n          pinnedList = _this$state.pinnedList,\n          loading = _this$state.loading,\n          error = _this$state.error;\n      var element = null;\n\n      if (loading && error.length === 0) {\n        element = /*#__PURE__*/React.createElement(LoadingPage, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }\n        });\n      } else if (error.length !== 0) {\n        element = /*#__PURE__*/React.createElement(ErrorPage, {\n          error: error,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }\n        });\n      } else if (results.length === 0) {\n        element = /*#__PURE__*/React.createElement(NoResults, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }\n        });\n      } else {\n        element = /*#__PURE__*/React.createElement(ResultList, {\n          results: results,\n          pinnedList: pinnedList,\n          currentPage: currentPage,\n          allPages: allPages,\n          total: total,\n          handlePage: this.handlePage,\n          handlePinnedList: this.handlePinnedList,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }\n      }, \"API\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(SearchField, {\n        userTypes: userTypes,\n        handleSearch: this.handleSearch,\n        handleUserTypes: this.handleUserTypes,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }\n      }), element, /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 9\n        }\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["/Users/YIN/Documents/workspace/gardianapi/src/App.js"],"names":["React","Component","Typography","withStyles","groupBySection","guardianApi","SearchField","NoResults","ResultList","LoadingPage","ErrorPage","Footer","styles","title","fontSize","fontWeight","width","color","backgroundColor","App","props","handleUserTypes","userTypes","setState","handlePinnedList","pinnedList","getResultList","input","page","loading","then","response","data","results","currentPage","allPages","pages","total","error","catch","console","log","message","handlePage","state","handleSearch","componentDidMount","bind","classes","element","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport './App.css';\nimport { withStyles } from '@material-ui/core/styles';\nimport groupBySection from \"./functions/GroupBySection\";\nimport guardianApi from \"./functions/GuardianApi\";\nimport SearchField from \"./components/SearchField\";\nimport NoResults from \"./components/NoResults\";\nimport ResultList from \"./components/ResultList\";\nimport LoadingPage from \"./components/LoadingPage\";\nimport ErrorPage from \"./components/ErrorPage\";\nimport Footer from \"./components/Footer\";\n\nconst styles = () => ({\n  title: {\n    fontSize: '2rem',\n    fontWeight: 700,\n    width: '160px',\n    color: '#FFFFFF',\n    backgroundColor: '#0d7cad',\n  }\n});\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      error: \"\",\n      userTypes: \"\",\n      results: [],\n      pinnedList: [],\n      currentPage: 0,\n      allPages: 0,\n      total: 0,\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleUserTypes = this.handleUserTypes.bind(this);\n    this.handlePage = this.handlePage.bind(this);\n    this.handlePinnedList = this.handlePinnedList.bind(this);\n    this.getResultList = this.getResultList.bind(this);\n  }\n\n  handleUserTypes = (userTypes) => {\n    this.setState({ userTypes: userTypes });\n  };\n\n  handlePinnedList = (pinnedList) => {\n    this.setState({ pinnedList: pinnedList });\n  };\n\n  getResultList = (input, page) => {\n    this.setState({loading: true,}, ()=> {\n      guardianApi(input, page)\n      .then(({ data: { response } }) => {\n        let results = groupBySection(response.results);\n        this.setState({\n          results: [...results],\n          currentPage: response.currentPage,\n          allPages: response.pages,\n          total: response.total,\n          loading: false,\n          error: \"\",\n        });\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({ error: error.message });\n      });\n  });\n  }\n\n  handlePage = (currentPage) => {\n    if (currentPage >= 1) {\n      this.getResultList(this.state.userTypes, currentPage);\n    }\n  };\n\n  handleSearch = () => {\n    this.getResultList(this.state.userTypes, 1);\n  };\n\n  componentDidMount = () => {\n    this.getResultList(this.state.userTypes, this.state.currentPage);\n  };\n\n  render() {\n    const { classes } = this.props;\n    const {\n      userTypes,\n      results,\n      currentPage,\n      allPages,\n      total,\n      pinnedList,\n      loading,\n      error,\n    } = this.state;\n    let element = null;\n    if(loading && error.length === 0){\n      element = <LoadingPage />;\n    }\n    else if(error.length !== 0){\n      element = <ErrorPage error={error} />;\n    }\n    else if(results.length === 0){\n      element = <NoResults />;\n    }\n    else{\n      element = <ResultList\n      results={results}\n      pinnedList={pinnedList}\n      currentPage={currentPage}\n      allPages={allPages}\n      total={total} \n      handlePage={this.handlePage}\n      handlePinnedList={this.handlePinnedList}\n    />;\n    }\n    return (\n      <div className=\"App\">\n          <Typography\n            className={classes.title}>\n            API\n          </Typography> \n        <div className=\"Container\">\n          <SearchField\n            userTypes={userTypes}\n            handleSearch={this.handleSearch}\n            handleUserTypes={this.handleUserTypes}\n          />\n          {element}\n          <Footer />\n        <div>\n        </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(App);"]},"metadata":{},"sourceType":"module"}