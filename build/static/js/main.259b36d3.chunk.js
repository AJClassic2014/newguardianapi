(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},130:function(e,t,n){e.exports=n(342)},135:function(e,t,n){},311:function(e,t){},342:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(23),s=n.n(i),l=(n(135),n(30)),c=n(17),o=n(18),u=n(20),d=n(19),m=n(21),h=n(6),f=n(24),p=n.n(f),g=(n(73),n(10)),b=n(71),w=function(e){var t=[],n={};return e.map(function(e){if(n[e.sectionId]){for(var a=0;a<t.length;a++)if(t[a].section===e.sectionId){t.splice(a+1,0,{id:e.id,title:e.webTitle,link:e.webUrl,date:b(e.webPublicationDate).format("DD/MM/YYYY"),section:e.sectionId});break}}else n[e.sectionId]=e.sectionId,t.push({id:e.id,title:e.webTitle,link:e.webUrl,date:b(e.webPublicationDate).format("DD/MM/YYYY"),section:e.sectionId,standFirst:e.fields.standfirst,thumbnail:e.fields.thumbnail,shortUrl:e.fields.shortUrl})}),t},j=n(39),E=n.n(j),O=function(e,t){if(0===e.length&&0===t)return E.a.get("https://content.guardianapis.com/search?api-key=cc56c111-e5a6-4922-92b8-181826199202&format=json&show-fields=standfirst,thumbnail,short-url&order-by=newest&page-size=15");var n=function(e){var t=e;return t=(t=(t=t.replace(/[&/\\#,+()$~%.:*?<>{}]/g,"%20")).replace(/["]/g,"%22")).replace(/[ ]/g,"%20")}(e);return E.a.get("https://content.guardianapis.com/search?page=".concat(t,"&q=").concat(n,"&api-key=cc56c111-e5a6-4922-92b8-181826199202&format=json&show-fields=all&order-by=newest&page-size=15"))},v=n(31),y=n.n(v),N=n(125),k=n.n(N),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleUserTypes=function(e){n.props.handleUserTypes(e.target.value)},n.handleSearch=function(){n.props.handleSearch()},n.handleUserTypes=n.handleUserTypes.bind(Object(h.a)(Object(h.a)(n))),n.handleSearch=n.handleSearch.bind(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userTypes,n=e.classes;return r.a.createElement("div",{className:n.searchField},r.a.createElement(k.a,{id:"outlined-name",className:n.textField,margin:"normal",value:t,onChange:this.handleUserTypes,variant:"outlined",InputProps:{classes:{input:this.props.classes.inputHeight}}}),r.a.createElement(y.a,{variant:"contained",color:"primary",className:n.button,onClick:this.handleSearch},"Search"))}}]),t}(r.a.Component),P=Object(g.withStyles)(function(e){return{textField:{backgroundColor:"#ffffff",marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginBottom:10,width:500},button:{margin:e.spacing.unit,marginTop:"13px",width:110,backgroundColor:"#404040"},inputHeight:{height:4,fontSize:"1em"},searchField:{marginTop:"10px",display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"center"}}})(S),C=Object(g.withStyles)(function(){return{root:{color:"#ea4335",textAlign:"center"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},"No results by your search,",r.a.createElement("br",null),"please try other key words")}),x=n(29),L=n.n(x),T=n(37),I=n.n(T),z=n(51),D=n.n(z),F=n(38),W=n.n(F),M=n(52),U=n.n(M),R=n(127),A=n.n(R),B=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleStringHTML=function(e){return(new DOMParser).parseFromString(e,"text/html")},n.handleStringHTML=n.handleStringHTML.bind(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.text;return r.a.createElement("div",{className:t.root},A()(n))}}]),t}(a.Component),Y=Object(g.withStyles)(function(){return{root:{color:"#22213c",textAlign:"left"}}})(B),H=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleToggle=function(e){return function(){var t=n.props,a=t.pinnedList,r=t.handlePinnedList,i=a.indexOf(e),s=Object(l.a)(a);-1===i?s.push(e):s.splice(i,1),r(s),n.setState({checked:s}),console.log(s)}},n.state={checked:[1]},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.results;return console.log(a),r.a.createElement(L.a,{dense:!0,className:n.root},a.map(function(t){return r.a.createElement(I.a,{key:t.id,className:n.listItem},r.a.createElement(W.a,{primary:r.a.createElement(p.a,{className:n.title,color:"textPrimary"},r.a.createElement("a",{href:t.link,className:n.link},t.title)),secondary:r.a.createElement(r.a.Fragment,null,null!=t.standFirst&&null!=t.thumbnail?r.a.createElement("div",{className:n.newsContainer},r.a.createElement("div",null,r.a.createElement("img",{src:t.thumbnail,className:n.thumbNail})),r.a.createElement("div",{className:n.textContainer},r.a.createElement("div",null,r.a.createElement("span",null,"Published: ",t.date),r.a.createElement(Y,{text:null!=t.standFirst?t.standFirst.substring(0,2e3):""})," "),r.a.createElement("div",{className:n.sectionContainer},r.a.createElement("a",{href:t.link},t.shortUrl),r.a.createElement("span",{className:n.section},"Section: ",t.section)))):r.a.createElement("div",{className:n.altContainer},r.a.createElement("span",null,"Published: ",t.date),r.a.createElement("br",null),r.a.createElement("span",{className:n.section},"Section: ",t.section)))}),r.a.createElement(D.a,null,r.a.createElement(U.a,{onChange:e.handleToggle(t),checked:-1!==e.state.checked.indexOf(t)})))}))}}]),t}(r.a.Component),_=Object(g.withStyles)(function(e){return{root:{width:800,backgroundColor:e.palette.background.paper},inline:{display:"inline"},title:{fontSize:"1rem",fontWeight:550,marginTop:32},section:{color:"#ff6600"},pinned:{backgroundColor:"#70c5ca85"},pinnedBar:{fontSize:"1rem",fontWeight:550,backgroundColor:"#ed8836a3"},pinnedTitle:{fontSize:"1rem",fontWeight:550,color:"white"},link:{color:"#000000",textDecoration:"none"},thumbNail:{width:200,borderRadius:12},newsContainer:{display:"grid",gridTemplateColumns:"1fr 3fr",gridColumnGap:"1rem"},altContainer:{textAlign:"right"},textContainer:{display:"grid",gridTemplateRows:"4fr 1fr",justifyContent:"start",gridRowGap:"1rem",textAlign:"left"},listItem:{margin:"32 0"},sectionContainer:{display:"flex",flexFlow:"row nowrap",justifyContent:"space-between"}}})(H),G=n(128),q=n.n(G),J=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).setPage=function(e){n.props.handlePage(e)},n.setPage=n.setPage.bind(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.total,a=t.classes,i=t.currentPage,s=t.allPages;return s>1&&r.a.createElement(q.a,{className:a.root},r.a.createElement("div",{className:a.menuLeft},"".concat(15*(i-1)+1,"-").concat(15*i>n?n:15*i," of ").concat(n)),r.a.createElement("div",{className:a.menuRight},r.a.createElement(y.a,{size:"small",variant:"contained",className:a.margin,onClick:function(){return e.setPage(1)},disabled:1===i},"First"),r.a.createElement(y.a,{size:"small",variant:"contained",className:a.margin,onClick:function(){return e.setPage(i-1)},disabled:i<=1},"Prev"),"Current Page\uff1a".concat(i),r.a.createElement(y.a,{size:"small",variant:"contained",className:a.margin,onClick:function(){return e.setPage(i+1)},disabled:i===s},"Next"),r.a.createElement(y.a,{size:"small",variant:"contained",className:a.margin,onClick:function(){return e.setPage(s)},disabled:i===s},"Last")))}}]),t}(r.a.Component),X=Object(g.withStyles)(function(e){return{root:{width:"100%"},margin:{margin:e.spacing.unit},grow:{flexGrow:1},menuLeft:{color:"#000000",fontSize:"1rem",fontWeight:550},menuRight:{marginLeft:"4%",color:"#000000",fontSize:"1rem",fontWeight:550}}})(J),$=Object(g.withStyles)(function(){return{root:{marginTop:"10px"}}})(function(e){var t=e.classes,n=e.results,a=e.pinnedList,i=e.handlePinnedList,s=e.currentPage,l=e.allPages,c=e.total,o=e.handlePage;return r.a.createElement("div",{className:t.root},r.a.createElement(_,{results:n,pinnedList:a,handlePinnedList:i}),r.a.createElement(X,{currentPage:s,allPages:l,total:c,handlePage:o}))}),K=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleToggle=function(e){return function(){var t=n.props,a=t.pinnedList,r=t.handlePinnedList,i=a.indexOf(e),s=Object(l.a)(a);-1===i?s.push(e):s.splice(i,1),r(s),n.setState({checked:s}),console.log(s)}},n.state={checked:[1]},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.pinnedList;return r.a.createElement(L.a,{dense:!0,className:n.root},r.a.createElement("div",{className:n.pinnedBar},r.a.createElement("span",{className:n.pinnedTitle},"Pinned Items")),a.map(function(t){return r.a.createElement(I.a,{className:n.pinned,key:t.id},r.a.createElement(W.a,{primary:r.a.createElement(p.a,{className:n.title,color:"textPrimary"},t.title)}),r.a.createElement(D.a,null,r.a.createElement(U.a,{onChange:e.handleToggle(t),checked:-1!==e.state.checked.indexOf(t)})))}))}}]),t}(r.a.Component),Q=Object(g.withStyles)(function(e){return{root:{width:400,marginTop:40,backgroundColor:e.palette.background.paper},inline:{display:"inline"},title:{fontSize:"1rem",fontWeight:550},section:{color:"#ff6600"},pinned:{backgroundColor:"#f2f2f2"},pinnedBar:{display:"flex",alignContent:"center",minHeight:"3rem",fontSize:"1rem",fontWeight:550,backgroundColor:"#feb301"},pinnedTitle:{margin:"auto",fontSize:"1rem",fontWeight:550,color:"white"},link:{textDecoration:"none"}}})(K),V=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.latestNews;return r.a.createElement(L.a,{dense:!0,className:t.root},r.a.createElement("div",{className:t.newsBar},r.a.createElement("div",{className:t.newsTitle},"Latest News")),r.a.createElement("div",{className:t.rollUp},n.map(function(e){return r.a.createElement(I.a,{key:e.id},r.a.createElement(W.a,{primary:r.a.createElement(p.a,{className:t.title,color:"primary"},r.a.createElement("a",{href:e.link,className:t.link},e.title))}))})))}}]),t}(r.a.Component),Z=Object(g.withStyles)(function(e){return{root:{width:400,marginTop:40,backgroundColor:e.palette.background.paper},inline:{display:"inline"},title:{fontSize:14,fontWeight:550},section:{color:"#ff6600"},pinned:{backgroundColor:"#70c5ca85"},newsBar:{display:"flex",alignContent:"center",minHeight:"3rem",fontSize:"1rem",fontWeight:550,backgroundColor:"#ee0017"},newsTitle:{margin:"auto",fontSize:"1rem",fontWeight:550,color:"white"},link:{fontSize:"0.8rem",color:"#70757a",textDecoration:"none"},rollUp:{animation:"anis 10s linear infinite"}}})(V),ee=n(129),te=n.n(ee),ne=Object(g.withStyles)(function(){return{root:{color:"#000000",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justfyContent:"center"},loading:{color:"#ea4335",marginLeft:"50%"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement("img",{src:te.a,className:"App-logo",alt:"logo"}),r.a.createElement("div",{className:t.loading},"Loading..."))}),ae=Object(g.withStyles)(function(){return{root:{color:"#000000",textAlign:"center"},message:{color:"#ea4335"}}})(function(e){var t=e.classes,n=e.error;return r.a.createElement("div",{className:t.root},r.a.createElement("div",null,"X_X"),r.a.createElement("div",{className:t.message},n),"System goes wrong, please try again later")}),re=function(){var e=E.a.get("http://api.weatherstack.com/current?access_key=1c6318f97658c27cf76240d063f797bb&query=Melbourne");return console.log(e),E.a.get("http://api.weatherstack.com/current?access_key=1c6318f97658c27cf76240d063f797bb&query=Melbourne")},ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){n.getWeatherInfo()},n.getWeatherInfo=function(){n.setState(function(){re().then(function(e){var t=e.data.current;n.setState({weatherDescriptions:t.weather_descriptions,temperature:t.temperature,weatherIcons:t.weather_icons})}).catch(function(e){console.log(e),n.setState({error:e.message})})})},n.state={weatherDescriptions:"",temperature:"",weatherIcons:""},n.componentDidMount=n.componentDidMount.bind(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.weatherDescriptions,a=t.temperature,i=t.weatherIcons;return r.a.createElement("div",{className:e.weatherContainer},r.a.createElement("span",{className:e.root},"Melbourne"),r.a.createElement("img",{src:i,className:e.weatherImg}),r.a.createElement("span",{className:e.weatherInfo},r.a.createElement("span",{className:e.temperature},a,"\xb0C")," Now  ",r.a.createElement("br",null)," ",n))}}]),t}(a.Component),se=Object(g.withStyles)(function(){return{root:{color:"#ffffff",fontWeight:"bold"},weatherContainer:{display:"grid",gridTemplateColumns:"2fr 1fr 2fr",alignItems:"center",justifyItems:"center"},weatherImg:{width:40,borderRadius:12},weatherInfo:{color:"#ccc",marginLeft:5},temperature:{color:"#ffffff",fontWeight:"bold"}}})(ie),le=Object(g.withStyles)(function(){return{root:{marginTop:"20px",marginBottom:"5px",textAlign:"center",color:"#666",fontSize:"16px"},link:{color:"#ca0c16"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},"Developed by\xa0",r.a.createElement("a",{className:t.link,href:"https://yinfei-profile.firebaseapp.com/",target:"_blank",rel:"noopener noreferrer"},"Yinfei"),"\xa0\xa0 Learn Source code\xa0",r.a.createElement("a",{className:t.link,href:"https://github.com/AJClassic2014/guardian_api/tree/deployment/v3",target:"_blank",rel:"noopener noreferrer"},"here"))}),ce=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleUserTypes=function(e){n.setState({userTypes:e})},n.handlePinnedList=function(e){n.setState({pinnedList:e})},n.getLatestNews=function(){n.setState(function(){O("",0).then(function(e){var t=e.data.response,a=w(t.results).slice(0,10);n.setState({latestNews:Object(l.a)(a),error:""})}).catch(function(e){console.log(e),n.setState({error:e.message})})})},n.getResultList=function(e,t){n.setState({loading:!0},function(){O(e,t).then(function(e){var t=e.data.response,a=w(t.results);n.setState({results:Object(l.a)(a),currentPage:t.currentPage,allPages:t.pages,total:t.total,loading:!1,error:""})}).catch(function(e){console.log(e),n.setState({error:e.message})})})},n.handlePage=function(e){e>=1&&n.getResultList(n.state.userTypes,e)},n.handleSearch=function(){n.getResultList(n.state.userTypes,1)},n.componentDidMount=function(){n.getResultList(n.state.userTypes,n.state.currentPage),n.getLatestNews()},n.state={loading:!0,error:"",userTypes:"",results:[],latestNews:[],pinnedList:[],currentPage:0,allPages:0,total:0},n.componentDidMount=n.componentDidMount.bind(Object(h.a)(Object(h.a)(n))),n.handleSearch=n.handleSearch.bind(Object(h.a)(Object(h.a)(n))),n.handleUserTypes=n.handleUserTypes.bind(Object(h.a)(Object(h.a)(n))),n.handlePage=n.handlePage.bind(Object(h.a)(Object(h.a)(n))),n.handlePinnedList=n.handlePinnedList.bind(Object(h.a)(Object(h.a)(n))),n.getResultList=n.getResultList.bind(Object(h.a)(Object(h.a)(n))),n.getLatestNews=n.getLatestNews.bind(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.userTypes,a=t.results,i=t.latestNews,s=t.currentPage,l=t.allPages,c=t.total,o=t.pinnedList,u=t.loading,d=t.error,m=null,h=null;return u&&0===d.length?m=r.a.createElement(ne,null):0!==d.length?m=r.a.createElement(ae,{error:d}):0===a.length?m=r.a.createElement(C,null):(m=r.a.createElement($,{results:a,pinnedList:o,currentPage:s,allPages:l,total:c,handlePage:this.handlePage,handlePinnedList:this.handlePinnedList}),h=r.a.createElement(Z,{latestNews:i})),r.a.createElement("div",null,r.a.createElement("div",{className:"Header"},r.a.createElement(p.a,{className:e.title},"Gnews"),r.a.createElement(P,{userTypes:n,handleSearch:this.handleSearch,handleUserTypes:this.handleUserTypes}),r.a.createElement(se,null)),r.a.createElement("div",{className:"App"},r.a.createElement("div",null),r.a.createElement("div",{className:"Container"},r.a.createElement("div",{className:"Total"},"About ",c," results "),m,r.a.createElement(le,null)),r.a.createElement("div",null,h,r.a.createElement(Q,{results:a,pinnedList:o,handlePinnedList:this.handlePinnedList}))))}}]),t}(a.Component),oe=Object(g.withStyles)(function(){return{title:{padding:"15px 0 0 85px",fontSize:"2rem",fontWeight:700,width:"100px",color:"#FFFFFF",backgroundColor:"#0f1010"}}})(ce);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},73:function(e,t,n){}},[[130,1,2]]]);
//# sourceMappingURL=main.259b36d3.chunk.js.map